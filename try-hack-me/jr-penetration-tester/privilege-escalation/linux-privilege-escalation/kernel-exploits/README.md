## Privilege Escalation Kernel Exploits Solution

### Notes
- Kernel manages communication between components.
- Kernel exploit usally leads to root privileges
- Steps:
  - kernel version
  - search if kernel version has an exploit
    - [Linux Kernel CVEs](https://www.linuxkernelcves.com/cves)
    - [Exploit DB](https://www.exploit-db.com/exploits/37292)
- Be careful as exploit may lead to irreversible damage. Check the scope of the project.


## What is the content of the flag1.txt file?

1. Identify kernel version by executing the following command:
   ```
   uname -r 
   ```

  ![Screenshot 2024-02-11 at 9 15 14 PM](https://github.com/niccololampa/cyber-security-notes/assets/37615906/906ee702-b5ad-4dc0-a327-cceb65d41604)

2. We have determined that the kernel version is `3.13.0-24-generic`. Now let's search the net for exploit we can use. We have found an exploit in [Exploit DB](https://www.exploit-db.com/exploits/37292)
   
3. Let's find folders which our current user has permission to write to:
```bash
find / -writable -type d 2>/dev/null

```
or 
```bash
find / -perm -222 -type d 2>/dev/null
```
or
```bash
find / -perm -o w -type d 2>/dev/null
```

4. Let's `cd /tmp` as our current user has permission to write in that folder.

![Screenshot 2024-02-11 at 9 53 49 PM](https://github.com/niccololampa/cyber-security-notes/assets/37615906/bd3ca3f5-96e3-42fc-9123-2c3e5bb94d61)

5. Let' create a exploit file `nano exploit.c` and paste the code we found in Exploit DB.
6. Run the following commands to spawn a root terminal:
```bash
gcc exploit.c -o exploit
./exploit
```

![Screenshot 2024-02-11 at 10 16 33 PM](https://github.com/niccololampa/cyber-security-notes/assets/37615906/89a5e65b-9883-43fc-957c-4cf0cbe4ad27)

7. Now to get the `flag1.txt` file.
```
cat /home/matt/flag1.txt
```
**Answer: THM-28392872729920**
